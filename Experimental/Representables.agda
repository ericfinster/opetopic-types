open import Cubical.Foundations.Everything
open import Cubical.Data.Nat 
open import Cubical.Data.Sum 

open import Core.Everything

module Experimental.Representables where

  target : âˆ€ {n} â†’ ğ’ª (suc n) â†’ ğ’ª n
  target (ğ‘œ âˆ£ ğ‘) = ğ‘œ
  
  Reprâ‚‹â‚‚ : âˆ€ {n} (ğ‘œ : ğ’ª n) (ğ‘ : ğ’« ğ‘œ) â†’ ğ•†Type n â„“-zero
  -- Reprâ‚‹â‚ : âˆ€ {n} (ğ‘œ : ğ’ª n) (ğ‘ : ğ’« ğ‘œ) â†’ ğ•†Type (1 + n) â„“-zero
  -- Repr : âˆ€ {n} (ğ‘œ : ğ’ª n) (ğ‘ : ğ’« ğ‘œ) â†’ ğ•†Type (2 + n) â„“-zero

  Î·-frm : âˆ€ {n} (ğ‘œ : ğ’ª n)
    â†’ Frm (Reprâ‚‹â‚‚ ğ‘œ (Î·â‚’ ğ‘œ)) ğ‘œ
    
  Î¼-frm : âˆ€ {n} {ğ‘œ : ğ’ª n} (ğ‘ : ğ’« ğ‘œ)
    â†’ (ğ‘ : (p : Pos ğ‘) â†’ ğ’« (Typ ğ‘ p))
    â†’ Frm (Reprâ‚‹â‚‚ ğ‘œ (Î¼â‚’ ğ‘ ğ‘)) ğ‘œ 

  data Faceâ‚‹â‚‚ : {n : â„•} {ğ‘œ : ğ’ª n} (ğ‘ : ğ’« ğ‘œ) (ğ‘ : ğ’« (ğ‘œ âˆ£ ğ‘))
    â†’ {ğ‘œ' : ğ’ª n} â†’ Frm (Reprâ‚‹â‚‚ ğ‘œ ğ‘) ğ‘œ' â†’ Type where

    lf-case : {n : â„•} (ğ‘œ : ğ’ª n)
      â†’ Faceâ‚‹â‚‚ (Î·â‚’ ğ‘œ) lfâ‚’ (Î·-frm ğ‘œ)

    nd-case : {n : â„•} {ğ‘œ : ğ’ª n} (ğ‘ : ğ’« ğ‘œ)
      â†’ (ğ‘ : (p : Pos ğ‘) â†’ ğ’« (Typ ğ‘ p))
      â†’ (ğ‘Ÿ : (p : Pos ğ‘) â†’ ğ’« (Typ ğ‘ p âˆ£ ğ‘ p))
      â†’ Faceâ‚‹â‚‚ (Î¼â‚’ ğ‘ ğ‘) (ndâ‚’ ğ‘ ğ‘ ğ‘Ÿ) (Î¼-frm ğ‘ ğ‘) 


  Reprâ‚‹â‚‚ â— objâ‚’ = tt*
  Reprâ‚‹â‚‚ (ğ‘œ âˆ£ ğ‘) ğ‘ = Reprâ‚‹â‚‚ ğ‘œ ğ‘ , Faceâ‚‹â‚‚ ğ‘ ğ‘

  Î·-frm â— = tt*
  Î·-frm (ğ‘œ âˆ£ ğ‘) = Î¼-frm ğ‘ (Î» p â†’ Î·â‚’ (Typ ğ‘ p)) ,
                  nd-case ğ‘ (Î» p â†’ Î·â‚’ (Typ ğ‘ p)) (Î» p â†’ lfâ‚’) ,
                  {!!} ,
                  {!!}
  
  Î¼-frm objâ‚’ ğ‘ = tt*
  Î¼-frm (lfâ‚’ {ğ‘œ = ğ‘œ}) ğ‘ = Î·-frm ğ‘œ , lf-case ğ‘œ , Î· (Reprâ‚‹â‚‚ ğ‘œ (Î·â‚’ ğ‘œ)) (Î·-frm ğ‘œ) , const (lf-case ğ‘œ)
  Î¼-frm (ndâ‚’ ğ‘ ğ‘ ğ‘Ÿ) Îº = Î¼-frm ğ‘ ğ‘ , {!!} , {!!} , {!!}


  -- Î¼â‚’ : {n : â„•} {ğ‘œ : ğ’ª n} (ğ‘ : ğ’« ğ‘œ)
  --   â†’ (ğ‘ : (p : Pos ğ‘) â†’ ğ’« (Typ ğ‘ p))
  --   â†’ ğ’« ğ‘œ
  -- Î¼â‚’ objâ‚’ ğ‘ = objâ‚’
  -- Î¼â‚’ lfâ‚’ ğ‘ = lfâ‚’
  -- Î¼â‚’ (ndâ‚’ ğ‘ ğ‘ ğ‘Ÿ) ğ‘  =
  --   graftâ‚’ (ğ‘  (inl tt))
  --     (Î» p â†’ Î¼â‚’ (ğ‘Ÿ p) (Î» q â†’ ğ‘  (inr (p , q))))



  -- src-frm : {n : â„•} {ğ‘œ : ğ’ª n} (ğ‘ : ğ’« ğ‘œ)
  --   â†’ (ğ‘ : (p : Pos ğ‘) â†’ ğ’« (Typ ğ‘ p))
  --   â†’ (ğ‘Ÿ : (p : Pos ğ‘) â†’ ğ’« (Typ ğ‘ p âˆ£ ğ‘ p))
  --   â†’ Frm (Reprâ‚‹â‚‚ ğ‘œ (Î¼â‚’ ğ‘ ğ‘) , Faceâ‚‹â‚‚ (Î¼â‚’ ğ‘ ğ‘) (ndâ‚’ ğ‘ ğ‘ ğ‘Ÿ)) (ğ‘œ âˆ£ ğ‘) 
  -- src-frm = {!!}

  -- tgt-frm : {n : â„•} {ğ‘œ : ğ’ª n} (ğ‘ : ğ’« ğ‘œ) (ğ‘ : ğ’« (ğ‘œ âˆ£ ğ‘))
  --   â†’ Frm (Reprâ‚‹â‚‚ ğ‘œ ğ‘ , Faceâ‚‹â‚‚ ğ‘ ğ‘) (ğ‘œ âˆ£ ğ‘)
  -- tgt-frm = {!!} 

  -- data Faceâ‚‹â‚ : {n : â„•} {ğ‘œ : ğ’ª n} (ğ‘ : ğ’« ğ‘œ) (ğ‘ : ğ’« (ğ‘œ âˆ£ ğ‘))
  --   â†’ {ğ‘œ' : ğ’ª (suc n)} â†’ Frm (Reprâ‚‹â‚‚ ğ‘œ ğ‘ , Faceâ‚‹â‚‚  ğ‘ ğ‘) ğ‘œ' â†’ Type where

  --   src-case : {n : â„•} {ğ‘œ : ğ’ª n} (ğ‘ : ğ’« ğ‘œ)
  --     â†’ (ğ‘ : (p : Pos ğ‘) â†’ ğ’« (Typ ğ‘ p))
  --     â†’ (ğ‘Ÿ : (p : Pos ğ‘) â†’ ğ’« (Typ ğ‘ p âˆ£ ğ‘ p))
  --     â†’ Faceâ‚‹â‚ (Î¼â‚’ ğ‘ ğ‘) (ndâ‚’ ğ‘ ğ‘ ğ‘Ÿ) {!!} 

  --   tgt-case : {n : â„•} {ğ‘œ : ğ’ª n} (ğ‘ : ğ’« ğ‘œ) (ğ‘ : ğ’« (ğ‘œ âˆ£ ğ‘))
  --     â†’ Faceâ‚‹â‚ ğ‘ ğ‘ {!!}

  -- Reprâ‚‹â‚ â— objâ‚’ = tt* , Î» _ â†’ Unit
  -- Reprâ‚‹â‚ (ğ‘œ âˆ£ ğ‘) ğ‘ = (Reprâ‚‹â‚‚ ğ‘œ ğ‘ , Faceâ‚‹â‚‚ ğ‘ ğ‘) , Faceâ‚‹â‚ ğ‘ ğ‘

  -- Repr â— objâ‚’ = (tt* , Î» _ â†’ Unit) , Î» _ â†’ Unit
  -- Repr (ğ‘œ âˆ£ ğ‘) ğ‘ = ((Reprâ‚‹â‚‚ ğ‘œ ğ‘ , Faceâ‚‹â‚‚ ğ‘ ğ‘) , Faceâ‚‹â‚ ğ‘ ğ‘) , Î» _ â†’ Unit 


  -- tgt-frm : âˆ€ {n} (ğ‘œ : ğ’ª n) (ğ‘ : ğ’« ğ‘œ)
  --   â†’ Frm (Reprâ‚‹â‚‚ ğ‘œ ğ‘) ğ‘œ 

  -- src-frm : âˆ€ {n} (ğ‘œ : ğ’ª n) (ğ‘ : ğ’« ğ‘œ) (p : Pos ğ‘)
  --   â†’ Frm (Reprâ‚‹â‚‚ ğ‘œ ğ‘) (Typ ğ‘ p)

  -- tgt-frm .â— objâ‚’ = tt*
  -- tgt-frm .(_ âˆ£ Î·â‚’ _) lfâ‚’ = {!!}
  -- tgt-frm .(_ âˆ£ Î¼â‚’ ğ‘ ğ‘) (ndâ‚’ ğ‘ ğ‘ ğ‘Ÿ) = {!!}

  -- src-frm = {!!} 

